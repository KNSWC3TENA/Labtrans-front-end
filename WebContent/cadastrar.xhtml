<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    
<ui:composition template="/WEB-INF/templates/Base.xhtml" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core" 
	xmlns="http://www.w3.org/1999/xhtml"	xmlns:ui="http://java.sun.com/jsf/facelets"	xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ui:define name="content">
    
<h:form id="reservaForm" style="border-style:solid; margin:10px 10px 10px 0px">
    <p:outputLabel for="txtNome" name="lblNome" value="Responsável: "/>
    <h:inputText id="txtNome" type="text" value="#{Controlador.responsavel}" size="40" style="margin: 10px 10px 10px 10px"/>
    	    	
   	<!-- LISTA DE LOCAIS -->
   	<h:outputLabel for="menu_selecao" name="lblFilial" value="Filial: "/>
	<h:selectOneMenu id="menu_selecao" value="#{Controlador.selecaoFilial}" required="true">
    	<f:ajax listener="#{Controlador.selecionarFilial}" render="local_selecao" />
    	<f:selectItems value="#{Controlador.filial}" />
	</h:selectOneMenu>
	<!-- LISTA DE SALAS DOS LOCAIS ACIMA -->
	<h:outputLabel for="local_selecao" name="lblLocal" value="Local: "/>
	<h:selectOneMenu id="local_selecao" value="#{Controlador.selecaoLocal}" required="true">
    	<f:selectItems value="#{Controlador.lista}" />
	</h:selectOneMenu>
	<br/>
	
	<!-- CAMPO DE TEXTO PARA A DESCRIÇÃO -->
	<h:outputText name="lblDesc" value="Descrição: " />
	<br/>
	<h:inputTextarea type="textarea" name="txtDesc" value="#{Controlador.desc}" rows="4" cols="40" required="true">
	</h:inputTextarea>
	
	<!-- SELEÇÃO DE DATA E HORA DE RESERVAS -->
	
	<p:fieldset legend="Data e hora da reserva" style="margin:10px 10px 10px 10px; width:450px">
 	  <p:calendar id ="calendar" value="#{Controlador.datahoraini}" pattern="yyyy-MM-dd HH:mm" style="margin:10px 10px 10px 10px"/>
 	  <h:panelGrid columns="2" style="margin: 10px 10px 10px 10px" cellpadding="5">
 		<p:outputLabel for="duracao" name="lblDuracao" value="Duração da reunião: "/>
 		<p:selectOneRadio id="duracao" value="#{Controlador.duracao}" layout="grid" columns="3" required="true">
 			<f:selectItem itemLabel="1 Hora" itemValue="1"/>
 			<f:selectItem itemLabel="2 Horas" itemValue="2"/>
 			<f:selectItem itemLabel="3 Horas" itemValue="3"/>
 			
 			<f:selectItem itemLabel="4 Horas" itemValue="4"/>
 			<f:selectItem itemLabel="6 Horas" itemValue="6"/>
 			<f:selectItem itemLabel="8 Horas" itemValue="8"/>
 			
 		</p:selectOneRadio>
 	  </h:panelGrid>
	</p:fieldset>
	
	<!-- OPÇÃO DE CAFÉ OU NÃO -->
	<p:outputLabel for="boxCafe" name ="lblCafe" value="Café? - "/>
	<p:selectBooleanCheckbox id="boxCafe" value="#{Controlador.boxCafe}">
	<!-- CAIXA DE SELEÇÃO, INVOCA CONTROLADOR BEAN QUANDO MODIFICADA -->
	<p:ajax listener="#{Controlador.cafeBoxChange}" render="spinnerCafe"/>
		</p:selectBooleanCheckbox>
		<!-- SELEÇÃO DO NÚMERO DE PESSOAS PARA O CAFÉ -->
		<p:outputLabel for="spinnerCafe" id="lblCafeSpinner" value="Q. Pessoas: "/>
		<!--SPINNER, INVOCA CONTROLADOR BEAN QUANDO MODIFICADO - MINIMO DE 0 PESSOAS, MÁXIMA DE 35 -->
		<p:spinner id="spinnerCafe" min="0" max="35" size="1" value="#{Controlador.cafeQPessoas}">
			</p:spinner>

		<!-- BOTÃO DE ENVIO DOS DADOS PARA A INSERÇÃO NO BANCO DE DADOS -->
       <h:commandButton id="submit-button" value="Nova Reserva" action="#{Controlador.NovaReserva}" style="margins: 10px 10px 10px 40%" />
</h:form>
<br/>
		<h:outputText name="lblResultado" value="#{Controlador.mensagem}"/>
    </ui:define>
</ui:composition>
